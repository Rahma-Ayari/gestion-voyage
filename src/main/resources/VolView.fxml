<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane style="-fx-background-color: linear-gradient(to bottom, #f5f7fa, #c3cfe2);" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controller.DestinationController">

    <top>
        <!-- HEADER AMÃ‰LIORÃ‰ -->
        <VBox spacing="0">
            <!-- Barre supÃ©rieure avec logo et titre -->
            <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: linear-gradient(to right, #FF6B35, #F7931E);                          -fx-padding: 20 40 20 40;">

                <!-- Logo Container avec meilleur positionnement -->
                <HBox alignment="CENTER" spacing="12">
                    <StackPane prefHeight="55" prefWidth="55" style="-fx-background-color: white;                                    -fx-background-radius: 15;                                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 8, 0, 0, 3);">
                        <ImageView fx:id="logo" fitHeight="50" fitWidth="50" preserveRatio="true" smooth="true">

                        </ImageView>
                    </StackPane>

                    <!-- SÃ©parateur vertical -->
                    <Separator orientation="VERTICAL" prefHeight="40" style="-fx-background-color: rgba(255,255,255,0.3);" />
                </HBox>

                <!-- Titre et sous-titre -->
                <VBox alignment="CENTER_LEFT" spacing="3" HBox.hgrow="ALWAYS">
                    <Label fx:id="nomapp" style="-fx-font-size: 28px;                                   -fx-font-weight: bold;                                   -fx-font-family: 'Segoe UI', Arial;                                   -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 2, 0, 0, 1);" text="TripEase" textFill="white" />

                    <Label fx:id="nompage" text="Gestion des Vols" textFill="rgba(255,255,255,0.95)">
                        <font>
                            <Font name="Segoe UI Semibold" size="15" />
                        </font>
                    </Label>
                </VBox>

                <!-- Ã‰lÃ©ments de navigation/info Ã  droite (optionnel) -->
                <HBox alignment="CENTER_RIGHT" spacing="15">
                    <Label style="-fx-font-size: 13px;                                   -fx-padding: 8 15;                                   -fx-background-color: rgba(255,255,255,0.2);                                   -fx-background-radius: 20;" text="ðŸ‘¤ admin" textFill="white" />
                </HBox>
            </HBox>

            <!-- Barre de navigation secondaire (optionnelle) -->
            <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: white;                          -fx-padding: 12 40;                          -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">

                <Label fx:id="accueil" style="-fx-font-size: 13px; -fx-text-fill: #666;                               -fx-padding: 5 15;                               -fx-cursor: hand;" text="ðŸ  Accueil" />
                <Label style="-fx-text-fill: #ccc;" text="&gt;" />
                <Label fx:id="volpage" style="-fx-font-size: 13px; -fx-text-fill: #FF6B35;                               -fx-font-weight: bold;                               -fx-padding: 5 15;" text="Vols" />
            </HBox>
        </VBox>
    </top>

    <!-- Left Panel - Form -->
    <left>
        <VBox alignment="TOP_CENTER" maxWidth="350" spacing="15" style="-fx-background-color: white;                      -fx-background-radius: 15;                      -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 5);">

            <padding>
                <Insets bottom="30" left="20" right="20" top="30" />
            </padding>

            <VBox.margin>
                <Insets bottom="20" left="20" right="20" top="20" />
            </VBox.margin>

            <Label fx:id="titreAjouter" text="ðŸ“ Ajouter un Vol" textFill="#FF6B35">
                <font>
                    <Font name="Segoe UI Bold" size="22" />
                </font>
            </Label>

            <Separator />

            <!-- Pays  -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 18px;" text="ðŸ†”" />
                <TextField fx:id="numero" prefWidth="280" promptText="Pays" style="-fx-background-radius: 8;                                   -fx-border-color: #ddd;                                   -fx-border-radius: 8;                                   -fx-padding: 10;                                   -fx-font-size: 13px;" text="NumÃ©ro" />
            </HBox>

            <!-- Ville -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 18px;" text="ðŸ“…" />
                <TextField fx:id="datedepart" prefWidth="280" promptText="Ville" style="-fx-background-radius: 8;                                   -fx-border-color: #ddd;                                   -fx-border-radius: 8;                                   -fx-padding: 10;                                   -fx-font-size: 13px;" text="Date DÃ©part" />
            </HBox>
         <HBox alignment="CENTER_LEFT" layoutX="30.0" layoutY="159.0" spacing="10">
            <children>
               <Label style="-fx-font-size: 18px;" text="ðŸ“…" />
               <TextField fx:id="datearrivee" prefWidth="280" promptText="Ville" style="-fx-background-radius: 8;                                   -fx-border-color: #ddd;                                   -fx-border-radius: 8;                                   -fx-padding: 10;                                   -fx-font-size: 13px;" text="Date ArrivÃ©" />
            </children>
         </HBox>
         <HBox alignment="CENTER_LEFT" layoutX="30.0" layoutY="217.0" spacing="10">
            <children>
               <Label style="-fx-font-size: 18px;" text="ðŸ’°" />
               <TextField fx:id="prix" prefWidth="280" promptText="Ville" style="-fx-background-radius: 8;                                   -fx-border-color: #ddd;                                   -fx-border-radius: 8;                                   -fx-padding: 10;                                   -fx-font-size: 13px;" text="Prix" />
            </children>
         </HBox>

                        <!-- Description -->
            <HBox alignment="CENTER_LEFT" spacing="10" />

            <!-- Buttons -->
            <HBox alignment="CENTER" spacing="10">
                <VBox spacing="10">
                    <Button fx:id="ajouterBtn" onAction="#ajouterDestination" prefHeight="40" prefWidth="130" style="-fx-background-color: #4CAF50;                                    -fx-text-fill: white;                                    -fx-font-weight: bold;                                    -fx-font-size: 13px;                                    -fx-background-radius: 8;                                    -fx-cursor: hand;                                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2);" text="Ajouter" />
                    <Button fx:id="modifierBtn" onAction="#modifierDestination" prefHeight="40" prefWidth="130" style="-fx-background-color: #2196F3;                                    -fx-text-fill: white;                                    -fx-font-weight: bold;                                    -fx-font-size: 13px;                                    -fx-background-radius: 8;                                    -fx-cursor: hand;                                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2);" text="Modifier" />
                </VBox>

                <VBox spacing="10">
                    <Button fx:id="supprimerBtn" onAction="#supprimerDestination" prefHeight="40" prefWidth="130" style="-fx-background-color: #f44336;                                    -fx-text-fill: white;                                    -fx-font-weight: bold;                                    -fx-font-size: 13px;                                    -fx-background-radius: 8;                                    -fx-cursor: hand;                                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2);" text="Supprimer" />
                    <Button fx:id="clearBtn" onAction="#clearFields" prefHeight="40" prefWidth="130" style="-fx-background-color: #9E9E9E;                                    -fx-text-fill: white;                                    -fx-font-weight: bold;                                    -fx-font-size: 13px;                                    -fx-background-radius: 8;                                    -fx-cursor: hand;                                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2);" text="Effacer" />
                </VBox>
            </HBox>

            <!-- Info Panel -->
            <VBox spacing="10" style="-fx-background-color: #FFF3E0;                          -fx-background-radius: 10;                          -fx-border-color: #FF6B35;                          -fx-border-radius: 10;                          -fx-border-width: 2;">
                <padding>
                    <Insets bottom="15" left="15" right="15" top="15" />
                </padding>

                <Label text="ðŸ’¡ Conseils" textFill="#FF6B35">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>

                <Label text="â€¢ Remplissez tous les champs&#10;â€¢ Double-cliquez pour modifier&#10;â€¢ SÃ©lectionnez pour supprimer" textFill="#666">
                    <font>
                        <Font name="Segoe UI" size="12" />
                    </font>
                </Label>
            </VBox>

        </VBox>
    </left>

    <!-- Center Panel - Table -->
    <center>
        <VBox spacing="15">
            <padding>
                <Insets bottom="30" left="20" right="30" top="30" />
            </padding>

            <!-- Search Bar -->
            <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-image: &quot;D:\Dorsaf\Study\S2\projet gui\javaFX\vol page\paln.jpg&quot;; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);">
                <padding>
                    <Insets bottom="10" left="10" right="10" top="10" />
                </padding>

                <Label style="-fx-font-size: 18px;" text="ðŸ”" />
                <TextField fx:id="searchField" prefWidth="300" promptText="Rechercher une destination..." style="-fx-background-radius: 8;                                   -fx-border-color: #ddd;                                   -fx-border-radius: 8;                                   -fx-padding: 10;                                   -fx-font-size: 13px;" text="Rechercher...." />
                <Button fx:id="refreshBtn" onAction="#refreshTable" style="-fx-background-color: #FF6B35;                                -fx-text-fill: white;                                -fx-font-size: 16px;                                -fx-background-radius: 50%;                                -fx-padding: 8 12;                                -fx-cursor: hand;" text="ðŸ”„" />
            </HBox>

            <!-- Table -->
            <TableView fx:id="table" style="-fx-background-color: white;                               -fx-background-radius: 10;                               -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 5);" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colidvol" prefWidth="80" style="-fx-alignment: CENTER;" text="ID" />
                    <TableColumn fx:id="colnumvol" prefWidth="106.22213745117188" text="NumÃ©ro" />
                    <TableColumn fx:id="coldatedepart" prefWidth="130.22216796875" text="Date DÃ©part" />
                    <TableColumn fx:id="coldatearrivee" prefWidth="135.11114501953125" text="Date ArrivÃ©e" />
               <TableColumn fx:id="colprix" prefWidth="134.44439697265625" style="-fx-alignment: CENTER;" text="Prix" />
               <TableColumn fx:id="colstatut" prefWidth="113.55560302734375" style="-fx-alignment: CENTER;" text="Statut" />
                </columns>

                <placeholder>
                    <Label text="Aucun contenu dans la table" />
                </placeholder>
            </TableView>

                     <!-- Stats Panel -->
            <HBox alignment="CENTER" spacing="20" style="-fx-background-color: white;                          -fx-background-radius: 10;                          -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);">
                <padding>
                    <Insets bottom="15" left="15" right="15" top="15" />
                </padding>

                         <Label fx:id="titretotal" text="Total des Vols: ">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>

                         <Label fx:id="count" text="0" textFill="#FF6B35">
                    <font>
                        <Font name="Segoe UI Bold" size="18" />
                    </font>
                </Label>
            </HBox>
        </VBox>
    </center>

</BorderPane>
