<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.*?>

<StackPane fx:id="rootPane" prefWidth="1200.0" prefHeight="800.0"
           focusTraversable="true"
           xmlns="http://javafx.com/javafx/8"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="Controller.ControllerResetPassword">

    <!-- Image de fond -->
    <ImageView fitHeight="800.0" fitWidth="1200.0" opacity="0.5"
               pickOnBounds="true" preserveRatio="false">
        <image>
            <Image url="@/images/voyage_bg.jpg" />
        </image>
    </ImageView>

    <!-- Carte principale -->
    <VBox alignment="CENTER" spacing="16.0"
          maxWidth="430.0" maxHeight="520.0"
          style="-fx-background-color: rgba(244, 244, 244, 0.93);
                 -fx-border-color: #FF9800;
                 -fx-border-width: 3;
                 -fx-border-radius: 20;
                 -fx-background-radius: 20;
                 -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.3), 10, 0, 0, 0);">

        <padding>
            <Insets bottom="35.0" left="40.0" right="40.0" top="35.0" />
        </padding>

        <!-- IcÃ´ne -->
        <Label text="ðŸ”‘"
               style="-fx-font-size: 40px;" />

        <!-- Titre -->
        <Label text="RÃ©initialiser le mot de passe"
               textFill="#FF9800" textAlignment="CENTER" wrapText="true">
            <font>
                <Font name="Segoe UI Bold" size="22.0" />
            </font>
        </Label>

        <!-- Instruction -->
        <Label text="Entrez le code reÃ§u par email et choisissez un nouveau mot de passe."
               textFill="#666666" textAlignment="CENTER" wrapText="true">
            <font>
                <Font name="Segoe UI" size="13.0" />
            </font>
        </Label>

        <VBox spacing="12">

            <!-- Code de vÃ©rification â†’  fx:id="codeField" dans ControllerResetPassword -->
            <TextField fx:id="codeField"
                       promptText="Code de vÃ©rification (6 chiffres)"
                       style="-fx-background-radius: 20;
                              -fx-padding: 10;
                              -fx-border-color: #FF9800;
                              -fx-border-radius: 20;
                              -fx-background-color: white;
                              -fx-font-size: 13px;" />

            <!-- Nouveau mot de passe â†’  fx:id="newPasswordField" dans ControllerResetPassword -->
            <PasswordField fx:id="newPasswordField"
                           promptText="Nouveau mot de passe"
                           style="-fx-background-radius: 20;
                                  -fx-padding: 10;
                                  -fx-border-color: #FF9800;
                                  -fx-border-radius: 20;
                                  -fx-background-color: white;
                                  -fx-font-size: 13px;" />

            <!-- Confirmation â†’  fx:id="confirmPasswordField" dans ControllerResetPassword -->
            <PasswordField fx:id="confirmPasswordField"
                           promptText="Confirmer le mot de passe"
                           style="-fx-background-radius: 20;
                                  -fx-padding: 10;
                                  -fx-border-color: #FF9800;
                                  -fx-border-radius: 20;
                                  -fx-background-color: white;
                                  -fx-font-size: 13px;" />
        </VBox>

        <!-- BOUTON RÃ‰INITIALISER â†’  onAction="#handleReset" dans ControllerResetPassword -->
        <Button text="âœ”  RÃ©initialiser le mot de passe"
                onAction="#handleReset"
                prefWidth="300.0" prefHeight="44.0"
                style="-fx-background-color: #FF9800;
                       -fx-text-fill: white;
                       -fx-font-weight: bold;
                       -fx-background-radius: 25;
                       -fx-cursor: hand;
                       -fx-font-size: 14px;" />

        <!-- Lien retour Login â†’  onAction="#showLogin" dans ControllerResetPassword -->
        <HBox alignment="CENTER" spacing="5">
            <Label text="Annuler ?"
                   style="-fx-text-fill: #666; -fx-font-size: 13px;"/>
            <Hyperlink text="Retour Ã  la connexion"
                       onAction="#showLogin"
                       style="-fx-text-fill: #FF9800;
                              -fx-font-weight: bold;
                              -fx-border-color: transparent;
                              -fx-font-size: 13px;" />
        </HBox>

    </VBox>
</StackPane>
