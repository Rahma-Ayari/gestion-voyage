<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.web.WebView?>

<BorderPane style="-fx-background-color: linear-gradient(to bottom, #f5f7fa, #c3cfe2);"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.HotelController">

    <!-- Header -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="15"
              style="-fx-background-color: linear-gradient(to right, #FF9800, #FFA726); -fx-background-radius: 0 0 15 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 5);">
            <padding><Insets bottom="20" left="30" right="30" top="20" /></padding>
            <Label text="TripEase" textFill="WHITE">
                <font><Font name="Segoe UI Bold" size="32" /></font>
            </Label>
            <Label text="Gestion des HÃ´tels" textFill="WHITE">
                <font><Font name="Segoe UI" size="28" /></font>
            </Label>
        </HBox>
    </top>

    <!-- Left Panel - Form -->
    <left>
        <VBox alignment="TOP_CENTER" maxWidth="350" spacing="12"
              style="-fx-background-color: white; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 5);">
            <padding><Insets bottom="20" left="20" right="20" top="20" /></padding>

            <Label text="ðŸ“ Ajouter / Modifier un HÃ´tel">
                <font><Font name="Segoe UI Bold" size="16" /></font>
            </Label>
            <Separator />

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ¨" />
                <TextField fx:id="nomField" prefWidth="260" promptText="Nom de l'hÃ´tel" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸŒ†" />
                <TextField fx:id="villeField" prefWidth="260" promptText="Ville" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ“" />
                <TextField fx:id="adresseField" prefWidth="260" promptText="Adresse" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="â­" />
                <TextField fx:id="starsField" prefWidth="260" promptText="Ã‰toiles (1-5)" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ›ï¸" />
                <TextField fx:id="capaciteField" prefWidth="260" promptText="CapacitÃ© (chambres)" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ›Žï¸" />
                <TextField fx:id="typeChambreField" prefWidth="260" promptText="Type de chambre" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ’°" />
                <TextField fx:id="prixParNuitField" prefWidth="260" promptText="Prix par nuit" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ“Œ" />
                <TextField fx:id="latitudeField" prefWidth="260" promptText="Latitude (auto si vide)" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ“Œ" />
                <TextField fx:id="longitudeField" prefWidth="260" promptText="Longitude (auto si vide)" />
            </HBox>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="âœ”ï¸" />
                <CheckBox fx:id="disponibiliteCheckBox" text="Disponible" />
            </HBox>

            <Separator />

            <!-- Boutons CRUD -->
            <HBox alignment="CENTER" spacing="10">
                <Button onAction="#ajouterHotel" text="âž• Ajouter"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 7 14;" />
                <Button onAction="#modifierHotel" text="âœï¸ Modifier"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 7 14;" />
            </HBox>
            <HBox alignment="CENTER" spacing="10">
                <Button onAction="#supprimerHotel" text="ðŸ—‘ï¸ Supprimer"
                        style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 7 14;" />
                <Button onAction="#clearFields" text="ðŸ§¹ Effacer"
                        style="-fx-background-color: #9E9E9E; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 7 14;" />
            </HBox>

            <Separator />


        </VBox>
    </left>

    <!-- Center Panel -->
    <center>
        <VBox spacing="12">
            <padding><Insets bottom="20" left="20" right="20" top="20" /></padding>

            <!-- Barre recherche -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 16px;" text="ðŸ”" />
                <TextField fx:id="searchField" prefWidth="280" promptText="Rechercher un hÃ´tel..." />
                <Button onAction="#refreshTable" text="ðŸ”„ RafraÃ®chir"
                        style="-fx-background-color: #607D8B; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 7 14;" />
                <Label text="Total :" style="-fx-font-weight: bold;" />
                <Label fx:id="countLabel" text="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #FF9800; -fx-font-size: 15px;" />
            </HBox>

            <!-- Table -->
            <TableView fx:id="tableView" prefHeight="280" VBox.vgrow="NEVER">
                <columns>
                    <TableColumn fx:id="nomCol"          text="Nom"         prefWidth="110" />
                    <TableColumn fx:id="villeCol"        text="Ville"       prefWidth="90"  />
                    <TableColumn fx:id="adresseCol"      text="Adresse"     prefWidth="140" />
                    <TableColumn fx:id="starsCol"        text="â­"          prefWidth="45"  />
                    <TableColumn fx:id="capaciteCol"     text="CapacitÃ©"    prefWidth="70"  />
                    <TableColumn fx:id="typeChambreCol"  text="Type"        prefWidth="85"  />
                    <TableColumn fx:id="prixParNuitCol"  text="Prix/Nuit"   prefWidth="75"  />
                    <TableColumn fx:id="latitudeCol"     text="Latitude"    prefWidth="85"  />
                    <TableColumn fx:id="longitudeCol"    text="Longitude"   prefWidth="85"  />
                    <TableColumn fx:id="disponibiliteCol" text="Disponible" prefWidth="75"  />
                    <TableColumn fx:id="carteCol" text="ðŸ“ Carte" prefWidth="90" />
                </columns>
                <placeholder>
                    <Label text="Aucun hÃ´tel trouvÃ©" />
                </placeholder>
            </TableView>

            <!-- Titre carte -->
            <Label text="ðŸ—ºï¸ Localisation sur la carte"
                   style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #FF9800;" />

            <!-- WebView Carte -->
            <WebView fx:id="mapView" prefHeight="380" VBox.vgrow="ALWAYS" />

        </VBox>
    </center>

</BorderPane>